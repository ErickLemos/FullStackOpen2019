{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/PersonService.js","components/Notification.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","name","onChangeName","phone","onChangePhone","addPerson","onSubmit","type","Person","person","number","Persons","persons","search","deletePerson","personToShow","filter","toLowerCase","includes","console","log","map","key","onClick","event","baseUrl","axios","get","then","response","data","catch","newObject","id","post","put","delete","Notification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setSearch","notification","setNotification","useEffect","personService","target","update","boolean","preventDefault","personObject","length","forEach","window","confirm","personTemp","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.db146a36.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({value, onChange}) => {\n  return (\n      <div>search: <input value={value} onChange={onChange}/></div>\n  )\n};\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({name, onChangeName, phone, onChangePhone, addPerson}) => {\n    return (\n        <form onSubmit={addPerson}>\n            <div>name: <input value={name} onChange={onChangeName}/></div>\n            <div>phone: <input value={phone} onChange={onChangePhone}/></div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n};\n\nexport default PersonForm\n","import React from 'react';\n\nconst Person = ({person}) => {\n    return(\n        <>{person.name}: {person.number}</>\n    )\n};\n\nexport default Person\n","import React from 'react'\nimport Person from \"./Person\";\n\nconst Persons = ({persons, search, deletePerson}) => {\n    const personToShow = (search === '') ? persons : persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase()));\n    console.log(personToShow);\n    const rows = () => personToShow.map(person => {\n        return (\n            <p key={person.name}>\n                <Person person={person}/>\n                <button onClick={(event) => deletePerson(event, person)}>delete</button>\n            </p>\n        )\n    });\n\n    return(\n        <div>{rows()}</div>\n    )\n};\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request\n        .then(response => response.data)\n        .catch(() => console.log('fail'));\n};\n\nconst create = newObject => {\n    newObject.id += 1;\n    console.log(newObject);\n    const request = axios.post(baseUrl, newObject);\n    return request\n        .then(response => response.data)\n        .catch(() => console.log('fail'));\n};\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\n    return request\n        .then(response => response.data)\n        .catch(() => console.log('fail'));\n};\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request\n        .then(response => response.data)\n        .catch(() => console.log('fail'));\n};\n\nexport default {getAll, create, update, remove}\n// complete\n","import React from 'react'\n\nconst Notification = ({message}) => {\n    if (message === null || message === '') {\n        return null\n    }\n\n    return (\n        <div className=\"notificationSucess\">\n            {message}\n        </div>\n    )\n};\n\nexport default Notification\n","import React, {useState, useEffect} from 'react'\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\n\nimport personService from \"./services/PersonService\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n\n    // USE STATES\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [search, setSearch] = useState('');\n    const [notification, setNotification] = useState('');\n\n    // USE EFFECTS\n    useEffect(() => {\n        console.log('[EFFECT]: dataPerson');\n        personService.getAll().then(response => setPersons(response));\n        setNotification('');\n    }, []);\n\n    // HANDLES\n    const handleNameChange = (event) => {\n        console.log(event.target.value);\n        setNewName(event.target.value);\n    };\n\n    const handleNumberChange = (event) => {\n        console.log(event.target.value);\n        setNewNumber(event.target.value);\n    };\n\n    const handleSearchChange = (event) => {\n        console.log(event.target.value);\n        setSearch(event.target.value);\n    };\n\n    // CRUD\n    const addPerson = (event) => {\n        let update = {boolean: false, name: '', id: 0};\n\n        event.preventDefault();\n        const personObject = {\n            name: newName,\n            number: newNumber,\n            id: persons.length\n        };\n\n        persons.forEach(function (person) {\n            if (person.name === newName) {\n                update.boolean = true;\n                update.id = person.id;\n                update.name = person.name;\n            }\n        });\n\n        if (update.boolean) {\n            if (window.confirm(`${update.name} is already added to phonebook, replace the old number with new one?`)) {\n                personService.update(update.id, personObject).then(\n                    response => {\n                        setPersons(persons.filter(\n                            personTemp => personTemp.id !== update.id)\n                            .concat(personObject));\n                        setNewName('');\n                        setNewNumber('');\n                        setNotification(`update ${update.name}`)\n                    }\n                )\n            }\n        } else {\n            personService.create(personObject).then(\n                response => {\n                    setPersons(persons.concat(response));\n                    setNewName('');\n                    setNewNumber('');\n                    setNotification(`added ${personObject.name}`)\n                }\n            )\n        }\n\n    };\n\n    const deletePerson = (event, person) => {\n        event.preventDefault();\n        if (window.confirm(`delete ${person.name}`)) {\n            personService.remove(person.id).then(response => {\n                setNewNumber('');\n                setPersons(persons.filter(personTemp => personTemp !== person))\n            });\n        }\n\n    };\n\n    return (\n        <div>\n            <Notification message={notification}/>\n            <h2>Phonebook</h2>\n            <Filter value={search} onChange={handleSearchChange}/>\n            <h2>add a new</h2>\n            <PersonForm name={newName} phone={newNumber} onChangeName={handleNameChange} onChangePhone={handleNumberChange} addPerson={addPerson}/>\n            <h2>Numbers</h2>\n            <Persons persons={persons} search={search} deletePerson={deletePerson}/>\n        </div>\n    )\n};\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}